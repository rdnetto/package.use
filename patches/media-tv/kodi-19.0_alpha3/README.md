Rebased version of the 17.03 patches. Uploaded to my personal github repo.
